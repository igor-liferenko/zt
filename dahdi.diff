diff -ur modules.orig/dahdi/drivers/dahdi/dahdi-base.c modules/dahdi/drivers/dahdi/dahdi-base.c
--- modules.orig/dahdi/drivers/dahdi/dahdi-base.c	2019-12-20 20:12:34.244801180 +0700
+++ modules/dahdi/drivers/dahdi/dahdi-base.c	2019-12-20 20:18:37.250421484 +0700
@@ -8574,6 +8574,7 @@
 				  /* if havent got GS detect */
 				if (!chan->gotgs) {
 					__qevent(chan,DAHDI_EVENT_RINGOFFHOOK);
+                                        module_printk(KERN_NOTICE, "OFFHOOK\n");
 					chan->gotgs = 1;
 					chan->itimerset = chan->itimer = 0;
 				}
@@ -8585,7 +8586,10 @@
 			if ((chan->txstate != DAHDI_TXSTATE_DEBOUNCE) &&
 			    (chan->txstate != DAHDI_TXSTATE_KEWL) &&
 			    (chan->txstate != DAHDI_TXSTATE_AFTERKEWL)) {
-				chan->itimerset = chan->itimer = chan->rxflashtime * DAHDI_CHUNKSIZE;
+		            module_printk(KERN_NOTICE, "ONHOOK\n");
+		            chan->itimerset = chan->itimer = 0;
+                            chan->gotgs = 0;
+                            __qevent(chan,DAHDI_EVENT_ONHOOK);
 			}
 			if (chan->txstate == DAHDI_TXSTATE_KEWL)
 				chan->kewlonhook = 1;
diff -ru modules.orig/dahdi/drivers/dahdi/wctdm24xxp/base.c modules/dahdi/drivers/dahdi/wctdm24xxp/base.c
--- modules.orig/dahdi/drivers/dahdi/wctdm24xxp/base.c	2019-12-23 09:55:49.735676942 +0700
+++ modules/dahdi/drivers/dahdi/wctdm24xxp/base.c	2019-12-23 09:56:39.609643972 +0700
@@ -2343,7 +2343,7 @@
 
 	if (debug & DEBUG_CARD)
 		dev_info(&wc->vb.pdev->dev,
-			"fxs_off_hook: Card %d Going off hook\n", mod->card);
+			"fxs_off_hook: Card %d Going off hook ", mod->card);
 	switch (fxs->lasttxhook) {
 	case SLIC_LF_RINGING:		/* Ringing */
 	case SLIC_LF_OHTRAN_FWD:	/* Forward On Hook Transfer */
@@ -2379,7 +2379,7 @@
 {
 	if (debug & DEBUG_CARD) {
 		dev_info(&wc->vb.pdev->dev,
-			"fxs_on_hook: Card %d Going on hook\n", mod->card);
+			"fxs_on_hook: Card %d Going on hook ", mod->card);
 	}
 
 	if ((mod->mod.fxs.lasttxhook & SLIC_LF_SETMASK) != SLIC_LF_OPEN)
